enum BookingStatus {
  PENDING
  CONFIRMED
  COMPLETED
  CANCELLED
}

model Booking {
  id             String        @id @default(uuid())
  studentId      String
  tutorId        String
  subjectId      String
  availabilityId String
  status         BookingStatus @default(PENDING)
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @default(now())

  student      User         @relation("StudentBookings", fields: [studentId], references: [id])
  tutor        TutorProfile @relation("TutorBookings", fields: [tutorId], references: [id])
  subject      Subject      @relation(fields: [subjectId], references: [id])
  availability Availability @relation(fields: [availabilityId], references: [id])

  @@unique([availabilityId])
}


model Review {
  id        String       @id @default(uuid())
  student   User         @relation("StudentReviews", fields: [studentId], references: [id])
  studentId String
  tutor     TutorProfile @relation("TutorReviews", fields: [tutorId], references: [id])
  tutorId   String
  rating    Int          @default(5)
  comment   String?
  createdAt DateTime     @default(now())
  updatedAt DateTime     @updatedAt
}
